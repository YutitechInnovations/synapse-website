import React, { useState } from 'react';
import Link from 'next/link';
import Image from 'next/image';
import { usePathname } from 'next/navigation';

const navItems = [
  { label: 'Dashboard', href: '/admin/dashboard' },
  { label: 'Doctor Management', href: '/admin/doctor-management' },
  { label: 'Doctor Reward Program', href: '/admin/reward-program' },
  { label: 'Community Management', href: '/admin/community' },
  { label: 'E-shop Inventory', href: '/admin/eshop' },
  { label: 'Order History', icon: (
    <svg width="36" height="36" fill="none" viewBox="0 0 36 36"><rect x="6" y="6" width="24" height="24" rx="2" stroke="#fff" strokeWidth="2"/><path d="M12 12h12M12 18h12M12 24h8" stroke="#fff" strokeWidth="2"/></svg>
  ), href: '/admin/orders' },
];

export default function AdminSidebar() {
  const pathname = usePathname();
  const [open, setOpen] = useState(false);

  // Sidebar content as a function for reuse
  const sidebarContent = (
    <aside className="bg-[#195B48] text-white w-[181px] h-screen flex flex-col items-center py-4 px-2 md:w-[181px] md:rounded-none md:static fixed top-0 left-0 z-50 w-full max-w-xs md:max-w-none transition-all duration-300">
      <div className="mb-14 flex flex-col items-center w-full relative">
        {/* Close button for mobile */}
        <button
          className="absolute left-4 top-2 md:hidden text-white text-3xl z-50"
          onClick={() => setOpen(false)}
          aria-label="Close sidebar"
        >
          &times;
        </button>
        <Image src="/images/logo.png" width={120} height={40} alt="Synapse Logo" className="mb-2" />
      </div>
      <nav className="flex-1 flex flex-col gap-y-4 w-full items-center">
        {navItems.map((item) => {
          const isActive = pathname === item.href;
          let icon = null;
          if (item.label === 'Dashboard') {
            icon = (
              <svg className="w-8 h-8 mx-auto" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.77734 22.333H12.4443C12.8698 22.333 13.2227 22.6858 13.2227 23.1113V30.2227C13.2224 30.648 12.8697 31 12.4443 31H1.77734C1.35219 30.9998 1.00024 30.6478 1 30.2227V23.1113L1.00391 23.0322C1.04416 22.6431 1.37864 22.3332 1.77734 22.333ZM19.5557 15.2227H30.2227C30.648 15.2229 31 15.5747 31 16V30.2227C30.9998 30.6478 30.6478 30.9998 30.2227 31H19.5557C19.1303 31 18.7776 30.648 18.7773 30.2227V16C18.7773 15.5745 19.1302 15.2227 19.5557 15.2227ZM1.77734 1H12.4443C12.8697 1 13.2224 1.35205 13.2227 1.77734V16C13.2227 16.4255 12.8698 16.7773 12.4443 16.7773H1.77734C1.35205 16.7771 1 16.4253 1 16V1.77734C1.00024 1.35219 1.35219 1.00024 1.77734 1ZM19.5557 1H30.2227C30.6478 1.00024 30.9998 1.35219 31 1.77734V8.88867C31 9.31402 30.648 9.66675 30.2227 9.66699H19.5557C19.1302 9.66699 18.7773 9.31417 18.7773 8.88867V1.77734C18.7776 1.35204 19.1303 1 19.5557 1Z" stroke={isActive ? '#195B48' : '#fff'} strokeWidth="2"/>
              </svg>
            );
          } else if (item.label === 'Doctor Management') {
            icon = (
              <svg className="w-8 h-8 mx-auto" width="43" height="30" viewBox="0 0 43 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M40.578 8.07722L40.5297 7.91059C40.0773 6.35363 38.7831 5.82441 37.7721 5.99148C36.7895 6.15404 35.8286 6.99619 35.8986 8.52967L36.3104 14.2296C35.7225 14.3209 35.172 14.6257 34.7954 15.1314C33.826 16.4219 31.5456 19.5733 31.3135 20.961C31.2056 21.6076 31.2679 22.4746 31.3401 23.4788C31.4431 24.9058 31.5704 26.6817 31.1893 28.1493C31.0954 28.5114 31.3126 28.8808 31.6747 28.9752C31.7321 28.9901 31.789 28.9973 31.8454 28.9973C32.1466 28.9973 32.4212 28.7945 32.5006 28.4897C32.9373 26.8063 32.8009 24.9076 32.6912 23.3818C32.628 22.5021 32.5688 21.6708 32.6497 21.184C32.7887 20.3523 34.4211 17.885 35.885 15.9365C36.2205 15.4859 36.8012 15.4692 37.1774 15.6823C37.6398 15.9442 37.7482 16.4748 37.4745 17.1368C36.4088 19.7183 35.8241 20.8323 35.8182 20.8427C35.6435 21.1732 35.7703 21.5837 36.1004 21.758C36.431 21.9327 36.841 21.8063 37.0157 21.4762C37.0401 21.4297 37.6308 20.3062 38.7267 17.6533C39.381 16.0684 38.6607 14.9661 37.8457 14.5037C37.7929 14.4739 37.7373 14.4559 37.6836 14.4301L37.2505 8.44975C37.2176 7.71868 37.6127 7.39085 37.9938 7.32763C38.4485 7.25222 39.0062 7.52045 39.2293 8.28764L39.2776 8.45426C41.1086 14.7571 41.3899 15.7261 41.0124 17.9843C40.8978 18.6707 40.3161 19.9025 39.7007 21.2071C38.8314 23.049 37.8461 25.136 37.5504 26.9039L37.3585 28.0499C37.3576 28.0544 37.3571 28.0585 37.3562 28.0621C37.3553 28.0684 37.354 28.0743 37.353 28.0806L37.3323 28.2044L37.339 28.2057C37.2957 28.8361 37.7427 28.963 37.8886 28.9869C37.9392 28.9959 37.987 28.9991 38.0313 28.9991C38.4273 28.9991 38.5862 28.6853 38.6585 28.4256L38.6684 28.427L38.6924 28.2847C38.6937 28.2766 38.6951 28.2689 38.696 28.2608C38.7018 28.231 38.7059 28.203 38.71 28.1791L38.8861 27.1274C39.1507 25.5447 40.0935 23.5475 40.9253 21.7855C41.6112 20.3329 42.2027 19.0789 42.3481 18.2074C42.7767 15.6457 42.4412 14.4902 40.578 8.07722ZM11.6614 23.4797C11.7336 22.475 11.796 21.6076 11.688 20.961C11.4681 19.6451 9.42168 16.7556 8.20338 15.1273C7.82769 14.6243 7.27815 14.3204 6.69068 14.2296L7.10385 8.51161C7.17203 6.99665 6.21112 6.1545 5.22854 5.99194C4.2157 5.82441 2.92336 6.35408 2.47135 7.91104L2.41761 8.09483C0.559015 14.4947 0.224413 15.648 0.652487 18.2083C0.797887 19.0802 1.39033 20.3347 2.07579 21.7873C2.90755 23.5488 3.8504 25.5461 4.11501 27.1279L4.29111 28.18C4.29518 28.2044 4.29969 28.2315 4.30511 28.2617C4.30602 28.2698 4.30737 28.2775 4.30873 28.2856L4.33266 28.4279L4.34259 28.4265C4.41439 28.6857 4.57379 29 4.9698 29C5.0145 29 5.06192 28.9964 5.11249 28.9878C5.25834 28.9634 5.70538 28.8365 5.66203 28.2066L5.66881 28.2053L5.64804 28.0815C5.64713 28.0752 5.64578 28.0693 5.64488 28.063C5.64442 28.059 5.64352 28.0549 5.64262 28.0508L5.45116 26.9052C5.15539 25.1383 4.1701 23.0512 3.30086 21.2098C2.68493 19.9052 2.10333 18.6729 1.98864 17.9861C1.61114 15.7297 1.892 14.7629 3.71854 8.47323L3.77183 8.28945C3.99489 7.52226 4.55256 7.25403 5.00728 7.32944C5.38839 7.39221 5.7835 7.72049 5.75144 8.43349L5.31795 14.4324C5.26376 14.4577 5.20777 14.4757 5.15539 14.506C4.33988 14.9684 3.62101 16.0706 4.27486 17.6556C5.37033 20.308 5.96006 21.4306 5.9849 21.4776C6.15965 21.8081 6.56876 21.9345 6.89975 21.7598C7.23028 21.585 7.35717 21.1759 7.18242 20.8454C7.17655 20.8341 6.59269 19.7201 5.52702 17.1386C5.25383 16.4766 5.36175 15.946 5.82369 15.6841C6.19938 15.4705 6.78054 15.4872 7.13591 15.9641C8.94032 18.3767 10.2322 20.4751 10.351 21.1854C10.4327 21.6731 10.3731 22.5039 10.3094 23.384C10.2002 24.9098 10.0638 26.8086 10.5004 28.4911C10.5799 28.7959 10.8545 28.9986 11.1556 28.9986C11.2121 28.9986 11.269 28.9914 11.3263 28.9765C11.6885 28.8821 11.9057 28.5128 11.8118 28.1506C11.4315 26.6822 11.5589 24.9067 11.6614 23.4797ZM31.9506 14.7029V8.19281C31.9506 7.81847 31.6472 7.51548 31.2733 7.51548H25.4347V1.67733C25.4347 1.30299 25.1313 1 24.7574 1H18.2437C17.8698 1 17.5664 1.30299 17.5664 1.67733V7.51548H11.7282C11.3543 7.51548 11.0509 7.81847 11.0509 8.19281V14.7029C11.0509 15.0772 11.3543 15.3802 11.7282 15.3802H17.5664V21.2224C17.5664 21.5963 17.8698 21.8998 18.2437 21.8998H24.7574C25.1313 21.8998 25.4347 21.5963 25.4347 21.2224V15.3802H31.2733C31.6472 15.3802 31.9506 15.0772 31.9506 14.7029ZM30.596 14.0255H24.7574C24.3835 14.0255 24.08 14.3285 24.08 14.7029V20.5446H18.921V14.7029C18.921 14.3285 18.6176 14.0255 18.2437 14.0255H12.4056V8.87015H18.2437C18.6176 8.87015 18.921 8.56715 18.921 8.19281V2.35466H24.08V8.19281C24.08 8.56715 24.3835 8.87015 24.7574 8.87015H30.596V14.0255Z" fill={isActive ? '#195B48' : 'white'} stroke={isActive ? '#195B48' : 'white'} strokeWidth="0.4"/>
              </svg>
            );
          } else if (item.label === 'Doctor Reward Program') {
            icon = (
              <svg className="w-8 h-8 mx-auto" width="33" height="38" viewBox="0 0 33 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19.6012 20.0131C19.7256 20.0131 19.8448 19.9777 19.9484 19.9017C20.0935 19.8004 20.1815 19.6382 20.1919 19.466L20.337 16.3757L22.0779 13.7919C22.1763 13.645 22.2022 13.4626 22.1452 13.3005C22.0883 13.1333 21.9587 13.0016 21.7929 12.9408L18.8292 11.8516L16.8552 9.43504C16.7464 9.29825 16.5754 9.2172 16.394 9.2172C16.2179 9.2172 16.0469 9.29825 15.9329 9.43504L13.9588 11.8516L11.0003 12.9357C10.8345 12.9965 10.705 13.1283 10.648 13.2954C10.591 13.4626 10.6169 13.645 10.7153 13.7869L12.4563 16.3706L12.6013 19.4609C12.6117 19.6332 12.6998 19.7953 12.8449 19.8966C12.9899 19.9979 13.1713 20.0334 13.3474 19.9878L16.3992 19.1671L19.451 19.9878C19.4976 20.0081 19.5494 20.0131 19.6012 20.0131ZM19.166 16.1629L19.0468 18.6959L16.5495 18.0221C16.4458 17.9968 16.3422 17.9968 16.2386 18.0221L13.7412 18.6959L13.622 16.1629C13.6169 16.0616 13.5858 15.9602 13.5236 15.8741L12.0988 13.7615L14.5236 12.8699C14.622 12.8344 14.7101 12.7736 14.7775 12.6926L16.394 10.7066L18.0106 12.6875C18.0779 12.7686 18.166 12.8294 18.2645 12.8648L20.6893 13.7565L19.2645 15.8741C19.2023 15.9602 19.1712 16.0616 19.166 16.1629ZM27.7358 23.2755C27.7514 23.1894 27.7618 23.0982 27.7721 23.007L27.9897 20.5803C28.0364 20.0788 28.2125 19.6634 28.5441 19.2733L30.1451 17.4089C31.2643 16.1069 31.2643 14.2173 30.1451 12.9153L28.5441 11.0509C28.2125 10.6659 28.0364 10.2505 27.9897 9.74387L27.7721 7.31718C27.6219 5.62509 26.254 4.28763 24.5235 4.14071L22.0416 3.92793C21.5287 3.88234 21.1038 3.71009 20.7048 3.38586L18.7981 1.82042C17.4665 0.726133 15.5339 0.726133 14.2023 1.82042L12.2956 3.38586C11.9019 3.71009 11.477 3.88234 10.9589 3.92793L8.47703 4.14071C6.74648 4.28763 5.37863 5.62509 5.22837 7.31718L5.01076 9.74387C4.96413 10.2454 4.78796 10.6608 4.45636 11.0509L2.85534 12.9153C1.73619 14.2173 1.73619 16.1069 2.85534 17.4089L4.45636 19.2733C4.78796 19.6583 4.96413 20.0737 5.01076 20.5803L5.22837 23.007C5.23873 23.0982 5.2491 23.1894 5.26464 23.2755L0.834646 30.7734C0.725839 30.9608 0.73102 31.1939 0.850189 31.3763C0.97454 31.5587 1.18697 31.6549 1.40977 31.6296L7.77238 30.9051L10.3112 36.6552C10.3993 36.8528 10.5962 36.9896 10.8138 36.9997C10.8241 36.9997 10.8345 36.9997 10.8501 36.9997C11.0573 36.9997 11.2542 36.8933 11.3578 36.7109L15.7671 29.2434C16.0106 29.2941 16.2541 29.3194 16.4977 29.3194C16.7412 29.3194 16.9899 29.2941 17.2282 29.2434L21.6375 36.7109C21.7411 36.8882 21.938 36.9997 22.1452 36.9997C22.1556 36.9997 22.166 36.9997 22.1815 36.9997C22.4043 36.9896 22.596 36.8528 22.6841 36.6552L25.2229 30.9051L31.5855 31.6296C31.8083 31.6549 32.0208 31.5536 32.1451 31.3763C32.2695 31.1939 32.2747 30.9608 32.1607 30.7734L27.7358 23.2755ZM10.9226 35.1506L8.67392 30.0591C8.57029 29.826 8.32159 29.6893 8.06771 29.7146L2.43048 30.358L5.80867 24.6383C6.39416 25.4996 7.35787 26.0872 8.47185 26.1835L10.9537 26.3963C11.4666 26.4419 11.8915 26.6141 12.2905 26.9383L14.1972 28.5038C14.3422 28.6254 14.4977 28.7317 14.6583 28.828L10.9226 35.1506ZM14.9536 27.6223L13.0469 26.0568C12.4666 25.5806 11.8138 25.3172 11.0573 25.2513L8.57548 25.0385C7.39414 24.9372 6.49778 24.0608 6.39416 22.9057L6.17654 20.479C6.10919 19.7393 5.83976 19.101 5.35272 18.5336L3.75171 16.6693C2.99006 15.7827 2.99006 14.5415 3.75171 13.6499L5.35272 11.7855C5.83976 11.2181 6.10919 10.5798 6.17654 9.84012L6.39416 7.41344C6.49778 6.25836 7.39414 5.38192 8.57548 5.28059L11.0573 5.06782C11.8138 5.00196 12.4666 4.73852 13.0469 4.2623L14.9536 2.69686C15.4096 2.32197 15.9536 2.13959 16.4977 2.13959C17.0417 2.13959 17.5857 2.32703 18.0417 2.69686L19.9484 4.2623C20.5287 4.73852 21.1815 5.00196 21.938 5.06782L24.4198 5.28059C25.6012 5.38192 26.4975 6.25836 26.6011 7.41344L26.8188 9.84012C26.8861 10.5798 27.1555 11.2181 27.6426 11.7855L29.2436 13.6499C30.0052 14.5364 30.0052 15.7776 29.2436 16.6693L27.6426 18.5336C27.1555 19.101 26.8861 19.7393 26.8188 20.479L26.6011 22.9057C26.4975 24.0608 25.6012 24.9372 24.4198 25.0385L21.938 25.2513C21.1815 25.3172 20.5287 25.5806 19.9484 26.0568L18.0417 27.6223C17.1298 28.367 15.8655 28.367 14.9536 27.6223ZM24.9276 29.7146C24.6685 29.6842 24.425 29.826 24.3214 30.0591L22.0727 35.1556L18.337 28.828C18.4976 28.7317 18.6531 28.6254 18.7981 28.5038L20.7048 26.9383C21.0986 26.6141 21.5235 26.4419 22.0416 26.3963L24.5235 26.1835C25.6374 26.0872 26.6063 25.4996 27.1866 24.6383L30.5648 30.358L24.9276 29.7146Z" fill={isActive ? '#195B48' : 'white'} stroke={isActive ? '#195B48' : 'white'} strokeWidth="0.5"/>
              </svg>
            );
          } else if (item.label === 'Community Management') {
            icon = (
              <svg className="w-8 h-8 mx-auto" width="39" height="24" viewBox="0 0 39 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M32.3737 8.89914C34.511 8.41495 35.9472 6.40601 35.7087 4.22702C35.4702 2.04802 33.6347 0.39335 31.4433 0.384331C29.2518 0.373491 27.4018 2.01028 27.1435 4.18729C26.8852 6.36425 28.3033 8.38767 30.437 8.88994C28.7767 9.1266 27.2718 9.98656 26.2221 11.2945C24.4318 9.52767 22.0181 8.53585 19.5016 8.53585C16.9868 8.53404 14.5714 9.52406 12.7792 11.2891C12.6293 11.103 12.4703 10.9242 12.3005 10.7525C11.3032 9.75531 10.0115 9.1031 8.61493 8.89715C10.7522 8.41297 12.1866 6.40222 11.9481 4.22364C11.7079 2.04487 9.87051 0.393626 7.67908 0.386365C5.48764 0.377332 3.63946 2.01592 3.38472 4.19293C3.12997 6.36994 4.54817 8.39151 6.6836 8.89003C3.42625 9.35974 1.00555 12.1474 1 15.439V18.9113V18.9095C1 19.1931 1.22944 19.4226 1.51129 19.4226H9.89771V23.3032C9.89771 23.4387 9.95191 23.5687 10.0495 23.6645C10.1452 23.7602 10.2753 23.8144H28.5873C28.7228 23.8144 28.8529 23.7602 28.9486 23.6645C29.0444 23.5687 29.0986 23.4387 29.0986 23.3032V19.4226H37.4887C37.7705 19.4226 38 19.1931 38 18.9095V15.439C38.0072 12.1636 35.6116 9.37935 32.3742 8.89881L32.3737 8.89914ZM28.139 4.70056C28.139 3.3727 28.9376 2.17493 30.166 1.66544C31.3927 1.15776 32.8055 1.43961 33.7432 2.37727C34.6826 3.31669 34.9644 4.72947 34.455 5.95619C33.9473 7.18287 32.7495 7.98321 31.4217 7.98321C29.6096 7.98141 28.1408 6.51262 28.139 4.70056ZM4.37838 4.70056C4.37838 3.3727 5.17873 2.17493 6.40541 1.66544C7.63389 1.15776 9.04487 1.43961 9.98433 2.37727C10.9238 3.31669 11.2056 4.72947 10.6962 5.95619C10.1885 7.18287 8.99071 7.98321 7.66284 7.98321C5.85078 7.98141 4.38019 6.51262 4.37838 4.70056ZM9.89776 18.1347V18.3984H4.61884V15.2134C4.61161 14.9369 4.38398 14.7165 4.10755 14.7165C3.83112 14.7165 3.60352 14.937 3.59446 15.2134V18.3984H2.02272V15.4392C2.00104 13.0255 3.53304 10.8721 5.82021 10.1025C8.10919 9.33283 10.6311 10.1223 12.0713 12.059C10.6639 13.7717 9.89595 15.9196 9.89776 18.1347ZM28.0743 22.7901H25.2343V17.804C25.227 17.5258 24.9994 17.3072 24.723 17.3072C24.4466 17.3072 24.219 17.5258 24.2099 17.804V22.7901H14.7847V17.804C14.7775 17.5258 14.5498 17.3072 14.2734 17.3072C13.9952 17.3072 13.7694 17.5258 13.7603 17.804V22.7901H10.9221V18.9185V18.9095V18.9005V18.1345C10.9456 15.0867 12.5843 12.2793 15.2291 10.76C17.874 9.24247 21.1241 9.24247 23.7691 10.76C26.4122 12.2794 28.0526 15.0869 28.0743 18.1345V22.7901ZM36.9754 18.3964H35.4037V15.2132C35.4037 14.9313 35.1743 14.7019 34.8906 14.7019C34.6088 14.7019 34.3793 14.9313 34.3793 15.2132V18.3982H29.0986V18.1345C29.1004 15.9195 28.3326 13.7715 26.9252 12.0605C28.3741 10.1437 30.8871 9.36686 33.1652 10.131C35.4433 10.897 36.9772 13.0343 36.9754 15.4372L36.9754 18.3964Z" fill={isActive ? '#195B48' : 'white'} stroke={isActive ? '#195B48' : 'white'} strokeWidth="0.2"/>
              </svg>
            );
          } else if (item.label === 'E-shop Inventory') {
            icon = (
              <svg className="w-8 h-8 mx-auto" width="33" height="38" viewBox="0 0 33 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M6.02517 27.7839C5.83119 27.6324 5.79911 27.3564 5.95338 27.1659C6.10766 26.9754 6.38872 26.9439 6.58271 27.0954L7.01805 27.4359L8.05061 26.4609C8.22932 26.2929 8.51191 26.2974 8.68299 26.4729C8.85407 26.6484 8.84948 26.9259 8.67077 27.0939L7.36785 28.3239C7.20899 28.4859 6.94932 28.5054 6.76601 28.3629L6.02517 27.7839ZM27.1515 23.4024V28.9075C27.1515 29.1505 26.9514 29.3485 26.7025 29.3485C26.5894 29.3485 26.4855 29.308 26.4076 29.239L24.6281 27.865L22.8318 29.2525C22.6378 29.4025 22.3552 29.3695 22.2025 29.179C22.1383 29.098 22.1063 29.002 22.1063 28.9075V23.4024H18.1549V36.1178H31.1031V23.4024H27.1515ZM23.003 23.4024H26.2535V28.0016L24.9063 26.9606C24.7383 26.8301 24.5046 26.8376 24.3457 26.9651L23.0046 28.0016L23.003 23.4024ZM17.7057 22.5204H24.1073V6.667C24.1073 6.2995 23.9546 5.96651 23.7071 5.72351C23.4612 5.48201 23.1206 5.33053 22.7464 5.33053L17.7013 5.33203V6.03252C17.7013 6.30402 17.5882 6.55003 17.4065 6.72852C17.2247 6.90702 16.9742 7.01802 16.6977 7.01802L9.30641 7.01652C9.02993 7.01652 8.77941 6.90552 8.59766 6.72702C8.41589 6.54852 8.30285 6.30251 8.30285 6.03102V5.33053L3.25775 5.33203C2.88352 5.33203 2.54442 5.48202 2.29698 5.72501C2.05105 5.96801 1.8968 6.30101 1.8968 6.6685V33.742C1.8968 34.1095 2.04954 34.4425 2.29698 34.684C2.54443 34.9255 2.88353 35.077 3.25775 35.077H17.2556V22.9614C17.2571 22.7169 17.4572 22.5204 17.7061 22.5204L17.7057 22.5204ZM25.004 22.5204V6.667C25.004 6.05652 24.7504 5.50302 24.341 5.10101C23.9317 4.699 23.368 4.45001 22.7464 4.45001H17.7013V3.85451C17.7013 3.58301 17.5882 3.33699 17.4065 3.15851C17.2247 2.98002 16.9742 2.869 16.6977 2.869H15.2817C15.1855 2.34849 14.9121 1.891 14.5241 1.55949C14.1163 1.21149 13.5847 1 13.0028 1C12.4208 1 11.8877 1.2115 11.4814 1.55949C11.0934 1.89099 10.82 2.34849 10.7238 2.869H9.30781C9.03134 2.869 8.78082 2.98 8.59907 3.15851C8.4173 3.337 8.30426 3.58302 8.30426 3.85451V4.45001H3.25759C2.63593 4.45001 2.07229 4.69901 1.66292 5.10101C1.25355 5.50302 1 6.05652 1 6.667V33.7405C1 34.351 1.25356 34.9045 1.66292 35.3065C2.07229 35.7085 2.63593 35.9575 3.25759 35.9575H17.2554V36.559C17.2554 36.802 17.4555 37 17.7045 37H31.5509C31.7984 37 32 36.8035 32 36.559V22.9616C32 22.7186 31.7999 22.5206 31.5509 22.5206L25.004 22.5204ZM14.362 2.86885H11.6416C11.7195 2.61685 11.8707 2.39335 12.0693 2.22385C12.3183 2.01085 12.6452 1.88185 13.001 1.88185C13.3585 1.88185 13.6838 2.01085 13.9343 2.22385C14.1344 2.39485 14.2841 2.61684 14.362 2.86885ZM16.6975 3.75086C16.7265 3.75086 16.7525 3.76286 16.7724 3.78236C16.7922 3.80186 16.8044 3.82737 16.8044 3.85587V6.03388C16.8044 6.06238 16.7922 6.08787 16.7724 6.10738C16.7525 6.12688 16.7265 6.13888 16.6975 6.13888L9.30621 6.13588C9.27719 6.13588 9.25123 6.12388 9.23137 6.10438C9.21151 6.08488 9.19929 6.05938 9.19929 6.03088V3.85287C9.19929 3.82437 9.21151 3.79886 9.23137 3.77937C9.25122 3.75987 9.27719 3.74786 9.30621 3.74786L16.6975 3.75086ZM4.90553 10.2593H9.60848C9.85593 10.2593 10.0575 10.4558 10.0575 10.7003V15.3186C10.0575 15.5616 9.85744 15.7596 9.60848 15.7596L4.90553 15.7581C4.65808 15.7581 4.45647 15.5616 4.45647 15.3171V10.7003C4.45647 10.4573 4.65657 10.2593 4.90553 10.2593ZM9.15958 11.1413V14.8778H5.35463V11.1413H9.15958ZM4.98022 24.6489C4.73277 24.6489 4.53115 24.8469 4.53115 25.0899V29.7082C4.53115 29.9512 4.73125 30.1492 4.98022 30.1492H9.68317C9.93062 30.1492 10.1322 29.9527 10.1322 29.7082V25.0883C10.1322 24.8453 9.93213 24.6473 9.68317 24.6473L4.98022 24.6489ZM9.23426 25.5309H5.42932V29.2674H9.23426V25.5309ZM4.98022 17.0318H9.68317C9.93062 17.0318 10.1322 17.2298 10.1322 17.4728V22.0912C10.1322 22.3342 9.93213 22.5322 9.68317 22.5322H4.98022C4.73277 22.5322 4.53115 22.3356 4.53115 22.0912L4.53268 17.4728C4.53268 17.2298 4.73278 17.0318 4.98022 17.0318ZM9.23426 17.9138V21.6503H5.42932V17.9138H9.23426ZM12.9476 13.9567C12.7001 13.9582 12.4985 13.7632 12.497 13.5217C12.4954 13.2787 12.694 13.0807 12.9399 13.0792L21.0949 13.0027C21.3424 13.0012 21.544 13.1962 21.5455 13.4377C21.547 13.6807 21.3485 13.8787 21.1025 13.8802L12.9476 13.9567ZM12.9476 12.0622C12.7001 12.0637 12.4985 11.8687 12.497 11.6272C12.4954 11.3842 12.694 11.1862 12.9399 11.1847L21.0949 11.1082C21.3424 11.1067 21.544 11.3017 21.5455 11.5432C21.547 11.7862 21.3485 11.9842 21.1025 11.9857L12.9476 12.0622ZM12.9506 28.8384C12.7032 28.8414 12.5 28.6494 12.4969 28.4064C12.4923 28.1634 12.6894 27.9639 12.9368 27.9609L15.561 27.9114C15.8085 27.9084 16.0116 28.1004 16.0147 28.3434C16.0178 28.5864 15.8222 28.7859 15.5748 28.7889L12.9506 28.8384ZM12.9506 26.9454C12.7032 26.9484 12.5 26.7549 12.4969 26.5134C12.4923 26.2704 12.6894 26.0709 12.9368 26.0679L15.561 26.0184C15.8085 26.0154 16.0116 26.2074 16.0147 26.4504C16.0178 26.6934 15.8222 26.8929 15.5748 26.8959L12.9506 26.9454ZM12.9476 21.2246C12.7001 21.2261 12.4985 21.0311 12.497 20.7896C12.4954 20.5466 12.694 20.3486 12.9399 20.3471L21.0949 20.2706C21.3424 20.2691 21.544 20.4641 21.5455 20.7056C21.547 20.9486 21.3485 21.1466 21.1025 21.1481L12.9476 21.2246ZM12.9476 19.3315C12.7001 21.2261 12.4985 21.0311 12.497 20.7896C12.4954 20.5466 12.694 20.3486 12.9399 20.3471L21.0949 20.2706C21.3424 20.2691 21.544 20.4641 21.5455 20.7056C21.547 20.9486 21.3485 21.1466 21.1025 21.1481L12.9476 21.2246ZM6.02509 20.1686C5.83111 20.0171 5.79903 19.741 5.95331 19.5505C6.10758 19.36 6.38864 19.3285 6.58263 19.48L7.01797 19.8205L8.05053 18.8455C8.22925 18.6775 8.51183 18.682 8.68291 18.8575C8.85399 19.033 8.8494 19.3105 8.67069 19.4785L7.36777 20.7085C7.20891 20.8705 6.94925 20.89 6.76593 20.7475L6.02509 20.1686ZM5.95025 13.0646C5.75626 12.9131 5.72418 12.637 5.87846 12.4465C6.03273 12.256 6.31379 12.2245 6.50779 12.376L6.94312 12.7165L7.97568 11.7415C8.1544 11.5735 8.43699 11.578 8.60806 11.7535C8.77914 11.929 8.77456 12.2065 8.59584 12.3745L7.29292 13.6045C7.13406 13.7665 6.8744 13.786 6.69108 13.6435L5.95025 13.0646Z" fill={isActive ? '#195B48' : 'white'} stroke={isActive ? '#195B48' : 'white'} strokeWidth="0.2"/>
              </svg>
            );
          } else {
            icon = item.icon;
          }
          return (
            <Link
              key={item.label}
              href={item.href}
              className={`flex flex-col items-center justify-center transition text-white ${isActive ? 'bg-white text-[#195B48] shadow font-semibold' : 'hover:bg-[#004C44]'} `}
              style={{
                width: '149px',
                height: '74px',
                borderRadius: '10px',
                padding: '5px 20px',
                marginBottom: 0,
              }}
              onClick={() => setOpen(false)}
            >
              <span className="mb-2">
                {icon}
              </span>
              <span className={`text-[12px] text-center ${isActive ? 'text-[#195B48]' : 'text-white'}`}>{item.label}</span>
            </Link>
          );
        })}
      </nav>
    </aside>
  );

  return (
    <>
      <button
        className="md:hidden fixed top-4 left-4 z-50 bg-[#195B48] p-2 rounded-lg shadow-lg focus:outline-none"
        onClick={() => setOpen(true)}
        aria-label="Open sidebar"
        type="button"
      >
        <svg width="28" height="28" fill="none" viewBox="0 0 24 24"><path d="M4 6h16M4 12h16M4 18h16" stroke="#fff" strokeWidth="2" strokeLinecap="round"/></svg>
      </button>
      {open && (
        <div
          className="fixed inset-0 bg-black bg-opacity-40 z-40 md:hidden"
          onClick={() => setOpen(false)}
        ></div>
      )}
      <div
        className={`fixed top-0 left-0 h-screen z-50 transition-transform duration-300 md:static md:translate-x-0 ${open ? 'translate-x-0 w-full max-w-xs' : '-translate-x-full'} md:block`}
        style={{ width: open ? '100vw' : 181 }}
      >
        {sidebarContent}
      </div>
    </>
  );
} 